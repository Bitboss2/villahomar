<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Villa HoMar - Guide de la Maison</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- PDF Generation Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        /* --- Base & Dark Mode Variables --- */
        :root {
            --bg-color: #0a0a0a;
            --card-bg-color: rgba(31, 41, 55, 0.5);
            --border-color: rgba(75, 85, 99, 0.5);
            --primary-color: #34d399;
            --primary-hover-color: #059669;
            --text-color: #e5e7eb;
            --text-muted-color: #9ca3af;
            --text-strong-color: #ffffff;
            --header-bg: linear-gradient(135deg, rgba(17, 24, 39, 0.8) 0%, rgba(0,0,0,0.9) 100%), url('https://placehold.co/1920x1080/0a0a0a/1f2937?text=Villa+HoMar') no-repeat center center/cover;
            --footer-border-color: #1f2937; /* Corresponds to gray-800 */
            
            /* Colored text */
            --cyan-text: #22d3ee;
            --amber-text: #f59e0b;
            --red-text: #ef4444;
            --blue-link-text: #5c97f7;
        }

        /* --- Light Mode Variables --- */
        html.light {
            --bg-color: #f3f4f6;
            --card-bg-color: #ffffff;
            --border-color: #e5e7eb;
            --primary-color: #10b981;
            --primary-hover-color: #047857;
            --text-color: #1f2937;
            --text-muted-color: #6b7280;
            --text-strong-color: #000000;
            --header-bg: linear-gradient(135deg, rgba(229, 231, 235, 0.8) 0%, rgba(209, 213, 219, 0.9) 100%), url('https://placehold.co/1920x1080/f3f4f6/e5e7eb?text=Villa+HoMar') no-repeat center center/cover;
            --footer-border-color: #e5e7eb; /* Corresponds to gray-200 */

            /* Darker colored text for light mode */
            --cyan-text: #0891b2;
            --amber-text: #b45309;
            --red-text: #b91c1c;
            --blue-link-text: #2563eb;
        }

        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .main-header {
            background: var(--header-bg);
            background-attachment: fixed;
        }
        .card {
            background-color: var(--card-bg-color);
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        .card:hover {
            border-color: rgba(52, 211, 153, 0.7);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        .icon { color: var(--primary-color); }
        .btn-primary {
            background-color: var(--primary-color);
            color: #000;
            transition: background-color 0.3s ease;
        }
        .btn-primary:hover { background-color: var(--primary-hover-color); }
        .btn-secondary {
            background-color: var(--card-bg-color);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }
        .btn-secondary:hover { border-color: var(--primary-color); }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, padding-top 0.5s ease-in-out;
            padding-top: 0;
        }
        .accordion-button .accordion-arrow { transition: transform 0.3s ease; }
        .accordion-button.open .accordion-arrow { transform: rotate(180deg); }
        
        /* Custom color classes using variables */
        .text-cyan-accent { color: var(--cyan-text); }
        .text-amber-accent { color: var(--amber-text); }
        .text-red-accent { color: var(--red-text); }
        .text-blue-link { color: var(--blue-link-text); }
        .text-strong { color: var(--text-strong-color); }
        .text-muted { color: var(--text-muted-color); }
        .footer-border { border-color: var(--footer-border-color); }
        
        /* Language Switcher Styles */
        .lang-dropdown { position: relative; display: inline-block; }
        .lang-dropdown-content {
            display: none;
            position: absolute;
            background-color: var(--card-bg-color);
            border: 1px solid var(--border-color);
            min-width: 100px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 10;
            border-radius: 0.5rem;
            overflow: hidden;
            margin-top: 0.5rem;
            right: 0;
        }
        .lang-dropdown-content a {
            color: var(--text-color);
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: background-color 0.2s ease;
        }
        .lang-dropdown-content a:hover { background-color: var(--primary-hover-color); }
        .lang-dropdown:hover .lang-dropdown-content { display: block; }
    </style>
</head>
<body class="antialiased">

    <!-- Loading Overlay for PDF Generation -->
    <div id="loading-overlay" class="fixed inset-0 bg-black bg-opacity-75 z-50 flex-col items-center justify-center hidden">
        <div class="loader mb-4"></div>
        <p class="text-white text-lg" data-lang-key="loading_pdf">G√©n√©ration du PDF en cours...</p>
    </div>

    <!-- Header -->
    <header class="main-header py-20 md:py-32 text-center">
        <div class="container mx-auto px-6">
            <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight mb-4 text-strong" data-lang-key="header_title">Bienvenue √† la Villa HoMar</h1>
            <p class="text-lg md:text-xl text-muted max-w-3xl mx-auto" data-lang-key="header_subtitle">Votre guide complet pour un s√©jour parfait. Retrouvez ici toutes les instructions et informations utiles.</p>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="container mx-auto px-4 sm:px-6 py-12 md:py-16">
        
        <!-- Action Buttons -->
        <div class="flex items-center justify-center space-x-4 mb-12">
            <button id="generate-pdf-btn" class="btn-primary font-bold py-3 px-6 rounded-lg shadow-lg flex items-center justify-center">
                <i class="ph-bold ph-download-simple text-2xl mr-2"></i>
                <span data-lang-key="download_guide_btn">T√©l√©charger le Guide</span>
            </button>
            <button id="theme-toggle-btn" class="btn-secondary p-3 rounded-lg shadow-lg flex items-center justify-center">
                <i id="theme-sun-icon" class="ph-bold ph-sun text-2xl"></i>
                <i id="theme-moon-icon" class="ph-bold ph-moon text-2xl"></i>
            </button>
            <!-- Language Switcher -->
            <div class="lang-dropdown">
                <button class="btn-secondary p-3 rounded-lg shadow-lg flex items-center justify-center">
                    <i class="ph-bold ph-translate text-2xl"></i>
                </button>
                <div class="lang-dropdown-content">
                    <a href="#" class="lang-switch" data-lang="fr">Fran√ßais üá´üá∑</a>
                    <a href="#" class="lang-switch" data-lang="en">English üá¨üáß</a>
                    <a href="#" class="lang-switch" data-lang="de">Deutsch üá©üá™</a>
                </div>
            </div>
        </div>

        <!-- Grid of instructions -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">

            <!-- Climatisation -->
            <div class="card rounded-2xl p-6">
                <div class="flex items-center mb-4">
                    <i class="ph-bold ph-snowflake icon text-4xl mr-4"></i>
                    <h2 class="text-2xl font-bold text-strong" data-lang-key="ac_title">Climatisation</h2>
                </div>
                <ul class="space-y-3 text-muted">
                    <li data-lang-key="ac_li_1"><i class="ph-fill ph-arrow-fat-lines-up-down inline-block mr-2 text-cyan-accent"></i>Utilisez les fl√®ches pour r√©gler la temp√©rature. La temp√©rature ambiante est en grand au centre, celle d√©sir√©e en petit en haut √† droite.</li>
                    <li data-lang-key="ac_li_2"><i class="ph-fill ph-blinds inline-block mr-2 text-cyan-accent"></i>Gardez les volets ferm√©s la journ√©e. La clim refroidira le salon si une chambre est chaude, d'o√π l'int√©r√™t de garder une temp√©rature homog√®ne.</li>
                    <li data-lang-key="ac_li_3"><i class="ph-fill ph-thermometer-cold inline-block mr-2 text-cyan-accent"></i>S'il fait trop froid, augmentez la temp√©rature d√©sir√©e plut√¥t que d'√©teindre.</li>
                    <li class="font-bold text-amber-accent" data-lang-key="ac_li_4"><i class="ph-fill ph-warning-circle inline-block mr-2"></i>Ne pas √©teindre les t√©l√©commandes signal√©es et ne pas toucher aux autres boutons.</li>
                </ul>
            </div>

            <!-- Alarme Piscine -->
            <div class="card rounded-2xl p-6">
                <div class="flex items-center mb-4">
                    <i class="ph-bold ph-swimming-pool icon text-4xl mr-4"></i>
                    <h2 class="text-2xl font-bold text-strong" data-lang-key="pool_alarm_title">Alarme Piscine</h2>
                </div>
                <ul class="space-y-3 text-muted">
                    <li><strong class="text-strong" data-lang-key="pool_alarm_li_1_strong">Activation :</strong> <span data-lang-key="pool_alarm_li_1_text">Code <span class="font-mono text-lg text-cyan-accent">1-2-3-4</span>. Attendre le clignotement vert lent quelques minutes.</span></li>
                    <li><strong class="text-strong" data-lang-key="pool_alarm_li_2_strong">D√©sactivation :</strong> <span data-lang-key="pool_alarm_li_2_text">appuyer sur le 2√®me bouton et composer <span class="font-mono text-lg text-cyan-accent">3-4-3-4-3-4</span>.</span></li>
                </ul>
            </div>

            <!-- Lave-vaisselle -->
            <div class="card rounded-2xl p-6">
                <div class="flex items-center mb-4">
                    <i class="ph-bold ph-plugs icon text-4xl mr-4"></i>
                    <h2 class="text-2xl font-bold text-strong" data-lang-key="dishwasher_title">Lave-vaisselle</h2>
                </div>
                <ol class="list-decimal list-inside space-y-2 text-muted">
                    <li data-lang-key="dishwasher_li_1">Mettre le produit/pastille directement dans la premi√®re trappe (celle de gauche) situ√©e dans la porte du lave-vaiselle</li>
                    <li data-lang-key="dishwasher_li_2">Fermer la porte, appuyer sur "On/OFF" √† gauche.</li>
                    <li data-lang-key="dishwasher_li_3">Choisir le programme √† l'aide de la fl√®che (je vous recommande le programme √† 65¬∞c)</li>
                    <li data-lang-key="dishwasher_li_4">Appuyer sur "Start" (√† droite).</li>
                    <li data-lang-key="dishwasher_li_5">√Ä la fin, appuyer sur "On/OFF" pour l'√©teindre.</li>
                    <li class="font-bold text-amber-accent" data-lang-key="dishwasher_li_6"><i class="ph-fill ph-warning-circle inline-block mr-2"></i>ouvrir minutieusement la porte du lave-vaiselle pour ne pas endommager la languette en plastique qui maintient la porte.</li>
                </ol>
            </div>

            <!-- Barbecue -->
            <div class="card rounded-2xl p-6">
                <div class="flex items-center mb-4">
                    <i class="ph-bold ph-fire icon text-4xl mr-4"></i>
                    <h2 class="text-2xl font-bold text-strong" data-lang-key="bbq_title">Barbecue</h2>
                </div>
                <p class="text-muted" data-lang-key="bbq_text">
                    <span class="font-bold text-red-accent">Ne jamais laisser le feu sans surveillance.</span> Risque d'incendie √©lev√© (cl√¥ture inflammable). Vider le barbecue (cendres froides) avant votre d√©part.
                </p>
                <img src="https://www.pompiersdulot.fr/sites/default/files/styles/image_300_300/public/2021-06/37104015351_f5bd0ec41a_o.jpg?itok=pz8Bz5P0" alt="Pr√©vention Feu" class="mt-4 rounded-lg mx-auto w-32" onerror="this.onerror=null;this.src='https://placehold.co/128x128/ff0000/ffffff?text=Image+Feu';">
            </div>

            <!-- TV & Streaming -->
            <div class="card rounded-2xl p-6">
                <div class="flex items-center mb-4">
                    <i class="ph-bold ph-television-simple icon text-4xl mr-4"></i>
                    <h2 class="text-2xl font-bold text-strong" data-lang-key="tv_title">TV & Streaming</h2>
                </div>
                <p class="text-muted mb-2" data-lang-key="tv_p_1">Via l'app <span class="font-bold">aller sur Molotov TV</span> : allez sur "en direct" (en naviguant vers la gauche), choisissez une cha√Æne et appuyez <span class="font-bold">deux fois sur OK</span>.</p>
                <p class="text-muted" data-lang-key="tv_p_2">Pour vos abonnements (Netflix, etc.), touche "maisonnette", s√©lectionnez l'app et connectez-vous.</p>
                <p class="mt-3 font-bold text-amber-accent" data-lang-key="tv_p_3"><i class="ph-fill ph-warning-circle inline-block mr-2"></i>N'oubliez pas de vous d√©connecter de vos abonnements avant de partir !</p>
                <img src="https://i.ibb.co/pvyBXxR6/Capture-d-e-cran-2025-07-07-a-17-34-33.png" alt="QR Code pour le WiFi" class="mt-4 rounded-lg bg-white p-2 mx-auto" onerror="this.style.display='none'">
                <img src="https://i.postimg.cc/PqbZ5gDn/Capture-d-e-cran-2025-07-07-a-17-44-05.png" alt="QR Code pour le WiFi" class="mt-4 rounded-lg bg-white p-2 mx-auto" onerror="this.style.display='none'"> 
                <div class="flex justify-center items-center space-x-4 mt-4">
                </div>
            </div>

            <!-- Connexion WiFi -->
            <div class="card rounded-2xl p-6">
                <div class="flex items-center mb-4">
                    <i class="ph-bold ph-wifi-high icon text-4xl mr-4"></i>
                    <h2 class="text-2xl font-bold text-strong" data-lang-key="wifi_title">Connexion WiFi</h2>
                </div>
                <div class="space-y-2 text-muted">
                    <p><span data-lang-key="wifi_network">R√©seau:</span> <span class="font-semibold text-strong">villa-homar</span></p>
                    <p><span data-lang-key="wifi_password">Mot de passe:</span> <span class="font-semibold text-strong">Biscarrosse-40600.</span></p>
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=WIFI:T:WPA;S:villa-homar;P:Biscarrosse-40600.;;" alt="QR Code pour le WiFi" class="mt-4 rounded-lg bg-white p-2 mx-auto" onerror="this.onerror=null;this.src='https://placehold.co/150x150/ffffff/000000?text=QR+Code';">
                    <p class="mt-2 font-bold text-red-accent" data-lang-key="wifi_warning">Ne jamais d√©brancher les box internet (indispensables pour la clim, l'arrosage, etc.).</p>
                </div>
            </div>

            <!-- Enceintes -->
            <div class="card rounded-2xl p-6">
                <div class="flex items-center mb-4">
                    <i class="ph-bold ph-speaker-high icon text-4xl mr-4"></i>
                    <h2 class="text-2xl font-bold text-strong" data-lang-key="speakers_title">Enceintes</h2>
                </div>
                <p class="text-muted" data-lang-key="speakers_text">Appuyer sur le bouton "Marche" des enceintes et du caisson de basse. S√©lectionner "FM" pour la radio. Ne pas oublier d'√©teindre apr√®s usage.</p>
            </div>

            <!-- Panneaux Solaires -->
            <div class="card rounded-2xl p-6">
                <div class="flex items-center mb-4">
                    <i class="ph-bold ph-solar-panel icon text-4xl mr-4"></i>
                    <h2 class="text-2xl font-bold text-strong" data-lang-key="solar_panels_title">Panneaux Solaires</h2>
                </div>
                <p class="text-muted" data-lang-key="solar_panels_text">Profitez de la journ√©e pour lancer lave-linge et lave-vaisselle. Quand l'ecran de consommation en temps r√©el indique <span class="font-mono text-lg text-cyan-accent">0</span>, l'√©nergie solaire prend le relais !</p>
            </div>

            <!-- Activit√©s -->
            <div class="card rounded-2xl p-6">
                <div class="flex items-center mb-4">
                    <i class="ph-bold ph-map-trifold icon text-4xl mr-4"></i>
                    <h2 class="text-2xl font-bold text-strong" data-lang-key="activities_title">Activit√©s</h2>
                </div>
                <p class="text-muted" data-lang-key="activities_text">Pour les activit√©s vous pouvez visiter le site de l'office de tourisme <a href="https://www.biscagrandslacs.com/agenda-des-manifestations" target="_blank" rel="noopener noreferrer" class="font-bold text-blue-link hover:underline">√† cette adresse</a>.</p>
            </div>

            <!-- Accordion Section -->
            <div class="md:col-span-2 lg:col-span-3 space-y-4">
                <!-- Infos Pratiques Accordion -->
                <div class="card rounded-2xl">
                    <button class="accordion-button w-full flex justify-between items-center p-6 text-left">
                        <div class="flex items-center">
                            <i class="ph-bold ph-info icon text-4xl mr-4"></i>
                            <h2 class="text-2xl font-bold text-strong" data-lang-key="practical_info_title">Infos Pratiques et Pr√©conisations</h2>
                        </div>
                        <i class="ph-bold ph-caret-down accordion-arrow text-3xl"></i>
                    </button>
                    <div class="accordion-content px-6 text-muted">
                        <div class="pb-6 grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h3 class="font-bold text-lg text-strong mb-2" data-lang-key="bins_title">Poubelles</h3>
                                <p data-lang-key="bins_text_1">Sortir les containers le LUNDI et JEUDI matin.</p>
                                <p data-lang-key="bins_text_2">Point de tri (verre, carton, plastique) : √† 700m, rue Georges Pompidou.</p>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg text-strong mb-2" data-lang-key="markets_title">March√©s Locaux</h3>
                                <ul class="list-disc list-inside">
                                    <li data-lang-key="markets_li_1">Biscarrosse Ville : Vendredi matin & Dimanche matin.</li>
                                    <li data-lang-key="markets_li_2">Biscarrosse Plage : Tous les matins & march√©s nocturnes.</li>
                                    <li data-lang-key="markets_li_3">Parentis-en-Born : Jeudi matin.</li>
                                </ul>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg text-strong mb-2" data-lang-key="parking_title">Stationnement</h3>
                                <ul class="list-disc list-inside">
                                    <li data-lang-key="parking_li_1">Gratuit dans la ville (hors zones sp√©cifiques).</li>
                                    <li data-lang-key="parking_li_2">Payant : Abords du lac et plage des Viviers.</li>
                                    <li data-lang-key="parking_li_3">Zones bleues : 1h30 avec un disque ou noter l'heure d'arriv√©e sur un papier et posez-le visible sur votre tableau de bord.</li>
                                </ul>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg text-strong mb-2" data-lang-key="noise_title">Nuisances Sonores</h3>
                                <div class="list-disc list-inside">
                                    <p data-lang-key="noise_p_1"> Vous logez dans un quartier r√©sidentiel, tout comme chez vous voici les plages horaires √† respecter pour faire du "bruit" donc pensez √† √™tre plus discrets sur les autres plages horaires </p>
                                    <ul class="list-disc list-inside ml-4">
                                        <li data-lang-key="noise_li_1">Lun-Ven : 8h-12h et 14h-19h30</li>
                                        <li data-lang-key="noise_li_2">Samedi : 9h-12h et 15h-19h</li>
                                        <li data-lang-key="noise_li_3">Dimanche & f√©ri√©s : 10h-12h</li>
                                    </ul>
                                </div>
                            </div>
                             <div class="md:col-span-2">
                                <h3 class="font-bold text-lg text-strong mb-2" data-lang-key="pool_maintenance_title">Piscine & Entretien</h3>
                                <p data-lang-key="pool_maintenance_text">Pensez √† vous rincer les pieds avant de nager. S√©bastien s'occupe de la piscine tr√®s t√¥t tout les matins en toute discr√©tion, il a un bip pour entrer. Si l'eau devient trouble ou verte, contactez-le au <span class="font-semibold text-strong">06 68 02 64 83</span>.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Caution & D√©part Accordion -->
                <div class="card rounded-2xl">
                    <button class="accordion-button w-full flex justify-between items-center p-6 text-left">
                        <div class="flex items-center">
                            <i class="ph-bold ph-key icon text-4xl mr-4"></i>
                            <h2 class="text-2xl font-bold text-strong" data-lang-key="departure_title">D√©part & Caution</h2>
                        </div>
                        <i class="ph-bold ph-caret-down accordion-arrow text-3xl"></i>
                    </button>
                    <div class="accordion-content px-6 text-muted">
                        <div class="pb-6">
                            <p class="mb-4" data-lang-key="departure_p_1">Une caution m√©nage de 200‚Ç¨ a √©t√© transmise √† Elodie. Pour sa restitution int√©grale, merci de respecter la checklist suivante :</p>
                            <ul class="columns-1 sm:columns-2 list-disc list-inside space-y-2">
                                <li data-lang-key="departure_li_1">Literie et canap√© sans taches/odeur</li>
                                <li data-lang-key="departure_li_2">Aspirateur pass√©</li>
                                <li data-lang-key="departure_li_3">Sol lav√©</li>
                                <li data-lang-key="departure_li_4">Miroirs et vitres sans traces</li>
                                <li data-lang-key="departure_li_5">Appareils de cuisson propres</li>
                                <li data-lang-key="departure_li_6">Lave-vaisselle vid√© et propre</li>
                                <li data-lang-key="departure_li_7">Sanitaires et siphons propres</li>
                                <li data-lang-key="departure_li_8">Frigo et cong√©lateur propres</li>
                                <li data-lang-key="departure_li_9">Terrasse balay√©e (et lav√©e si besoin)</li>
                                <li data-lang-key="departure_li_10">Barbecue vid√© et nettoy√©</li>
                                <li data-lang-key="departure_li_11">Int√©rieur des meubles sans sable/cheveux</li>
                                <li data-lang-key="departure_li_12">Toutes les poubelles vid√©es</li>
                            </ul>
                            <p class="mt-4 text-amber-accent" data-lang-key="departure_p_2">En cas de perte de cl√©s ou de bip, un devis de remplacement sera transmis via la plateforme de r√©servation.</p>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="text-center py-8 mt-12 border-t footer-border">
        <p class="text-muted" data-lang-key="footer_text">Nous vous souhaitons un excellent s√©jour √† la Villa HoMar !</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- TRANSLATION LOGIC ---
        const translations = {
            fr: {
                loading_pdf: "G√©n√©ration du PDF en cours...",
                header_title: "Bienvenue √† la Villa HoMar",
                header_subtitle: "Votre guide complet pour un s√©jour parfait. Retrouvez ici toutes les instructions et informations utiles.",
                download_guide_btn: "T√©l√©charger le Guide",
                ac_title: "Climatisation",
                ac_li_1: '<i class="ph-fill ph-arrow-fat-lines-up-down inline-block mr-2 text-cyan-accent"></i>Utilisez les fl√®ches pour r√©gler la temp√©rature. La temp√©rature ambiante est en grand au centre, celle d√©sir√©e en petit en haut √† droite.',
                ac_li_2: '<i class="ph-fill ph-blinds inline-block mr-2 text-cyan-accent"></i>Gardez les volets ferm√©s la journ√©e. La clim refroidira le salon si une chambre est chaude, d\'o√π l\'int√©r√™t de garder une temp√©rature homog√®ne.',
                ac_li_3: '<i class="ph-fill ph-thermometer-cold inline-block mr-2 text-cyan-accent"></i>S\'il fait trop froid, augmentez la temp√©rature d√©sir√©e plut√¥t que d\'√©teindre.',
                ac_li_4: '<i class="ph-fill ph-warning-circle inline-block mr-2"></i>Ne pas √©teindre les t√©l√©commandes signal√©es et ne pas toucher aux autres boutons.',
                pool_alarm_title: "Alarme Piscine",
                pool_alarm_li_1_strong: "Activation :",
                pool_alarm_li_1_text: 'Code <span class="font-mono text-lg text-cyan-accent">1-2-3-4</span>. Attendre le clignotement vert lent quelques minutes.',
                pool_alarm_li_2_strong: "D√©sactivation :",
                pool_alarm_li_2_text: 'appuyer sur le 2√®me bouton et composer <span class="font-mono text-lg text-cyan-accent">3-4-3-4-3-4</span>.',
                dishwasher_title: "Lave-vaisselle",
                dishwasher_li_1: "Mettre le produit/pastille directement dans la premi√®re trappe (celle de gauche) situ√©e dans la porte du lave-vaiselle",
                dishwasher_li_2: 'Fermer la porte, appuyer sur "On/OFF" √† gauche.',
                dishwasher_li_3: "Choisir le programme √† l'aide de la fl√®che (je vous recommande le programme √† 65¬∞c)",
                dishwasher_li_4: 'Appuyer sur "Start" (√† droite).',
                dishwasher_li_5: '√Ä la fin, appuyer sur "On/OFF" pour l\'√©teindre.',
                dishwasher_li_6: '<i class="ph-fill ph-warning-circle inline-block mr-2"></i>ouvrir minutieusement la porte du lave-vaiselle pour ne pas endommager la languette en plastique qui maintient la porte.',
                bbq_title: "Barbecue",
                bbq_text: '<span class="font-bold text-red-accent">Ne jamais laisser le feu sans surveillance.</span> Risque d\'incendie √©lev√© (cl√¥ture inflammable). Vider le barbecue (cendres froides) avant votre d√©part.',
                tv_title: "TV & Streaming",
                tv_p_1: 'Via l\'app <span class="font-bold">aller sur Molotov TV</span> : allez sur "en direct" (en naviguant vers la gauche), choisissez une cha√Æne et appuyez <span class="font-bold">deux fois sur OK</span>.',
                tv_p_2: 'Pour vos abonnements (Netflix, etc.), touche "maisonnette", s√©lectionnez l\'app et connectez-vous.',
                tv_p_3: '<i class="ph-fill ph-warning-circle inline-block mr-2"></i>N\'oubliez pas de vous d√©connecter de vos abonnements avant de partir !',
                wifi_title: "Connexion WiFi",
                wifi_network: "R√©seau:",
                wifi_password: "Mot de passe:",
                wifi_warning: "Ne jamais d√©brancher les box internet (indispensables pour la clim, l'arrosage, etc.).",
                speakers_title: "Enceintes",
                speakers_text: 'Appuyer sur le bouton "Marche" des enceintes et du caisson de basse. S√©lectionner "FM" pour la radio. Ne pas oublier d\'√©teindre apr√®s usage.',
                solar_panels_title: "Panneaux Solaires",
                solar_panels_text: 'Profitez de la journ√©e pour lancer lave-linge et lave-vaisselle. Quand l\'ecran de consommation en temps r√©el indique <span class="font-mono text-lg text-cyan-accent">0</span>, l\'√©nergie solaire prend le relais !',
                activities_title: "Activit√©s",
                activities_text: 'Pour les activit√©s vous pouvez visiter le site de l\'office de tourisme <a href="https://www.biscagrandslacs.com/agenda-des-manifestations" target="_blank" rel="noopener noreferrer" class="font-bold text-blue-link hover:underline">√† cette adresse</a>.',
                practical_info_title: "Infos Pratiques et Pr√©conisations",
                bins_title: "Poubelles",
                bins_text_1: "Sortir les containers le LUNDI et JEUDI matin.",
                bins_text_2: "Point de tri (verre, carton, plastique) : √† 700m, rue Georges Pompidou.",
                markets_title: "March√©s Locaux",
                markets_li_1: "Biscarrosse Ville : Vendredi matin & Dimanche matin.",
                markets_li_2: "Biscarrosse Plage : Tous les matins & march√©s nocturnes.",
                markets_li_3: "Parentis-en-Born : Jeudi matin.",
                parking_title: "Stationnement",
                parking_li_1: "Gratuit dans la ville (hors zones sp√©cifiques).",
                parking_li_2: "Payant : Abords du lac et plage des Viviers.",
                parking_li_3: "Zones bleues : 1h30 avec un disque ou noter l'heure d'arriv√©e sur un papier et posez-le visible sur votre tableau de bord.",
                noise_title: "Nuisances Sonores",
                noise_p_1: "Vous logez dans un quartier r√©sidentiel, tout comme chez vous voici les plages horaires √† respecter pour faire du \"bruit\" donc pensez √† √™tre plus discrets sur les autres plages horaires",
                noise_li_1: "Lun-Ven : 8h-12h et 14h-19h30",
                noise_li_2: "Samedi : 9h-12h et 15h-19h",
                noise_li_3: "Dimanche & f√©ri√©s : 10h-12h",
                pool_maintenance_title: "Piscine & Entretien",
                pool_maintenance_text: 'Pensez √† vous rincer les pieds avant de nager. S√©bastien s\'occupe de la piscine tr√®s t√¥t tout les matins en toute discr√©tion, il a un bip pour entrer. Si l\'eau devient trouble ou verte, contactez-le au <span class="font-semibold text-strong">06 68 02 64 83</span>.',
                departure_title: "D√©part & Caution",
                departure_p_1: "Une caution m√©nage de 200‚Ç¨ a √©t√© transmise √† Elodie. Pour sa restitution int√©grale, merci de respecter la checklist suivante :",
                departure_li_1: "Literie et canap√© sans taches/odeur",
                departure_li_2: "Aspirateur pass√©",
                departure_li_3: "Sol lav√©",
                departure_li_4: "Miroirs et vitres sans traces",
                departure_li_5: "Appareils de cuisson propres",
                departure_li_6: "Lave-vaisselle vid√© et propre",
                departure_li_7: "Sanitaires et siphons propres",
                departure_li_8: "Frigo et cong√©lateur propres",
                departure_li_9: "Terrasse balay√©e (et lav√©e si besoin)",
                departure_li_10: "Barbecue vid√© et nettoy√©",
                departure_li_11: "Int√©rieur des meubles sans sable/cheveux",
                departure_li_12: "Toutes les poubelles vid√©es",
                departure_p_2: "En cas de perte de cl√©s ou de bip, un devis de remplacement sera transmis via la plateforme de r√©servation.",
                footer_text: "Nous vous souhaitons un excellent s√©jour √† la Villa HoMar !"
            },
            en: {
                loading_pdf: "Generating PDF...",
                header_title: "Welcome to Villa HoMar",
                header_subtitle: "Your complete guide for a perfect stay. Find all the useful instructions and information here.",
                download_guide_btn: "Download Guide",
                ac_title: "Air Conditioning",
                ac_li_1: '<i class="ph-fill ph-arrow-fat-lines-up-down inline-block mr-2 text-cyan-accent"></i>Use the arrows to adjust the temperature. The ambient temperature is large in the center, the desired temperature is small in the top right.',
                ac_li_2: '<i class="ph-fill ph-blinds inline-block mr-2 text-cyan-accent"></i>Keep the shutters closed during the day. The AC will cool the living room if a bedroom is hot, hence the importance of maintaining a consistent temperature.',
                ac_li_3: '<i class="ph-fill ph-thermometer-cold inline-block mr-2 text-cyan-accent"></i>If it\'s too cold, increase the desired temperature rather than turning it off.',
                ac_li_4: '<i class="ph-fill ph-warning-circle inline-block mr-2"></i>Do not turn off the marked remote controls and do not touch the other buttons.',
                pool_alarm_title: "Pool Alarm",
                pool_alarm_li_1_strong: "Activation:",
                pool_alarm_li_1_text: 'Code <span class="font-mono text-lg text-cyan-accent">1-2-3-4</span>. Wait for the slow green flashing for a few minutes.',
                pool_alarm_li_2_strong: "Deactivation:",
                pool_alarm_li_2_text: 'press the 2nd button and enter <span class="font-mono text-lg text-cyan-accent">3-4-3-4-3-4</span>.',
                dishwasher_title: "Dishwasher",
                dishwasher_li_1: "Place the detergent/tablet directly into the first compartment (the one on the left) located in the dishwasher door.",
                dishwasher_li_2: 'Close the door, press "On/OFF" on the left.',
                dishwasher_li_3: "Select the program using the arrow (I recommend the 65¬∞C program).",
                dishwasher_li_4: 'Press "Start" (on the right).',
                dishwasher_li_5: 'At the end, press "On/OFF" to turn it off.',
                dishwasher_li_6: '<i class="ph-fill ph-warning-circle inline-block mr-2"></i>Carefully open the dishwasher door to avoid damaging the plastic tab that holds the door.',
                bbq_title: "Barbecue",
                bbq_text: '<span class="font-bold text-red-accent">Never leave the fire unattended.</span> High risk of fire (flammable fence). Empty the barbecue (cold ashes) before your departure.',
                tv_title: "TV & Streaming",
                tv_p_1: 'Via the <span class="font-bold">Molotov TV app</span>: go to "live" (by navigating to the left), choose a channel and press <span class="font-bold">OK twice</span>.',
                tv_p_2: 'For your subscriptions (Netflix, etc.), press the "home" button, select the app, and log in.',
                tv_p_3: '<i class="ph-fill ph-warning-circle inline-block mr-2"></i>Don\'t forget to log out of your subscriptions before you leave!',
                wifi_title: "WiFi Connection",
                wifi_network: "Network:",
                wifi_password: "Password:",
                wifi_warning: "Never unplug the internet boxes (they are essential for the AC, watering system, etc.).",
                speakers_title: "Speakers",
                speakers_text: 'Press the "On" button on the speakers and subwoofer. Select "FM" for the radio. Don\'t forget to turn them off after use.',
                solar_panels_title: "Solar Panels",
                solar_panels_text: 'Take advantage of the daytime to run the washing machine and dishwasher. When the real-time consumption screen shows <span class="font-mono text-lg text-cyan-accent">0</span>, solar power takes over!',
                activities_title: "Activities",
                activities_text: 'For activities, you can visit the tourist office website <a href="https://www.biscagrandslacs.com/agenda-des-manifestations" target="_blank" rel="noopener noreferrer" class="font-bold text-blue-link hover:underline">at this address</a>.',
                practical_info_title: "Practical Info & Recommendations",
                bins_title: "Trash Bins",
                bins_text_1: "Take out the containers on MONDAY and THURSDAY mornings.",
                bins_text_2: "Recycling point (glass, cardboard, plastic): 700m away, on rue Georges Pompidou.",
                markets_title: "Local Markets",
                markets_li_1: "Biscarrosse Town: Friday morning & Sunday morning.",
                markets_li_2: "Biscarrosse Beach: Every morning & night markets.",
                markets_li_3: "Parentis-en-Born: Thursday morning.",
                parking_title: "Parking",
                parking_li_1: "Free in the town (except in specific zones).",
                parking_li_2: "Paid: Around the lake and Viviers beach.",
                parking_li_3: "Blue zones: 1.5 hours with a parking disc or write your arrival time on a piece of paper and place it visibly on your dashboard.",
                noise_title: "Noise Regulations",
                noise_p_1: "You are staying in a residential area. Just like at home, here are the time slots to respect for making \"noise\", so please be quieter during other times:",
                noise_li_1: "Mon-Fri: 8am-12pm and 2pm-7:30pm",
                noise_li_2: "Saturday: 9am-12pm and 3pm-7pm",
                noise_li_3: "Sunday & holidays: 10am-12pm",
                pool_maintenance_title: "Pool & Maintenance",
                pool_maintenance_text: 'Remember to rinse your feet before swimming. S√©bastien takes care of the pool very early every morning with discretion; he has a beeper to enter. If the water becomes cloudy or green, contact him at <span class="font-semibold text-strong">06 68 02 64 83</span>.',
                departure_title: "Departure & Deposit",
                departure_p_1: "A cleaning deposit of ‚Ç¨200 was given to Elodie. For its full return, please adhere to the following checklist:",
                departure_li_1: "Bedding and sofa without stains/odors",
                departure_li_2: "Floors vacuumed",
                departure_li_3: "Floor washed",
                departure_li_4: "Mirrors and windows without streaks",
                departure_li_5: "Cooking appliances clean",
                departure_li_6: "Dishwasher emptied and clean",
                departure_li_7: "Toilets and drains clean",
                departure_li_8: "Fridge and freezer clean",
                departure_li_9: "Terrace swept (and washed if necessary)",
                departure_li_10: "Barbecue emptied and cleaned",
                departure_li_11: "Inside of furniture free of sand/hair",
                departure_li_12: "All trash bins emptied",
                departure_p_2: "In case of lost keys or beeper, a replacement quote will be sent via the booking platform.",
                footer_text: "We wish you an excellent stay at Villa HoMar!"
            },
            de: {
                loading_pdf: "PDF wird erstellt...",
                header_title: "Willkommen in der Villa HoMar",
                header_subtitle: "Ihr vollst√§ndiger Leitfaden f√ºr einen perfekten Aufenthalt. Hier finden Sie alle n√ºtzlichen Anweisungen und Informationen.",
                download_guide_btn: "Leitfaden herunterladen",
                ac_title: "Klimaanlage",
                ac_li_1: '<i class="ph-fill ph-arrow-fat-lines-up-down inline-block mr-2 text-cyan-accent"></i>Verwenden Sie die Pfeile, um die Temperatur einzustellen. Die Raumtemperatur wird gro√ü in der Mitte angezeigt, die gew√ºnschte Temperatur klein oben rechts.',
                ac_li_2: '<i class="ph-fill ph-blinds inline-block mr-2 text-cyan-accent"></i>Halten Sie die Rolll√§den tags√ºber geschlossen. Die Klimaanlage k√ºhlt das Wohnzimmer, wenn ein Schlafzimmer hei√ü ist, daher ist es wichtig, eine gleichm√§√üige Temperatur beizubehalten.',
                ac_li_3: '<i class="ph-fill ph-thermometer-cold inline-block mr-2 text-cyan-accent"></i>Wenn es zu kalt ist, erh√∂hen Sie die gew√ºnschte Temperatur, anstatt sie auszuschalten.',
                ac_li_4: '<i class="ph-fill ph-warning-circle inline-block mr-2"></i>Schalten Sie die gekennzeichneten Fernbedienungen nicht aus und ber√ºhren Sie nicht die anderen Tasten.',
                pool_alarm_title: "Pool-Alarm",
                pool_alarm_li_1_strong: "Aktivierung:",
                pool_alarm_li_1_text: 'Code <span class="font-mono text-lg text-cyan-accent">1-2-3-4</span>. Warten Sie einige Minuten auf das langsame gr√ºne Blinken.',
                pool_alarm_li_2_strong: "Deaktivierung:",
                pool_alarm_li_2_text: 'Dr√ºcken Sie die 2. Taste und geben Sie <span class="font-mono text-lg text-cyan-accent">3-4-3-4-3-4</span> ein.',
                dishwasher_title: "Geschirrsp√ºler",
                dishwasher_li_1: "Geben Sie das Sp√ºlmittel/die Tablette direkt in das erste Fach (das linke) in der T√ºr des Geschirrsp√ºlers.",
                dishwasher_li_2: 'Schlie√üen Sie die T√ºr, dr√ºcken Sie links auf "On/OFF".',
                dishwasher_li_3: "W√§hlen Sie das Programm mit dem Pfeil aus (ich empfehle das 65¬∞C-Programm).",
                dishwasher_li_4: 'Dr√ºcken Sie auf "Start" (rechts).',
                dishwasher_li_5: 'Am Ende dr√ºcken Sie auf "On/OFF", um ihn auszuschalten.',
                dishwasher_li_6: '<i class="ph-fill ph-warning-circle inline-block mr-2"></i>√ñffnen Sie die Geschirrsp√ºlert√ºr vorsichtig, um die Plastiklasche, die die T√ºr h√§lt, nicht zu besch√§digen.',
                bbq_title: "Grill",
                bbq_text: '<span class="font-bold text-red-accent">Lassen Sie das Feuer niemals unbeaufsichtigt.</span> Hohe Brandgefahr (brennbarer Zaun). Leeren Sie den Grill (kalte Asche) vor Ihrer Abreise.',
                tv_title: "Fernseher & Streaming",
                tv_p_1: '√úber die <span class="font-bold">Molotov TV App</span>: Gehen Sie zu "Live" (navigieren Sie nach links), w√§hlen Sie einen Sender und dr√ºcken Sie <span class="font-bold">zweimal OK</span>.',
                tv_p_2: 'F√ºr Ihre Abonnements (Netflix usw.), dr√ºcken Sie die "Home"-Taste, w√§hlen Sie die App aus und melden Sie sich an.',
                tv_p_3: '<i class="ph-fill ph-warning-circle inline-block mr-2"></i>Vergessen Sie nicht, sich vor Ihrer Abreise von Ihren Abonnements abzumelden!',
                wifi_title: "WLAN-Verbindung",
                wifi_network: "Netzwerk:",
                wifi_password: "Passwort:",
                wifi_warning: "Ziehen Sie niemals den Stecker der Internet-Boxen (unverzichtbar f√ºr Klimaanlage, Bew√§sserung usw.).",
                speakers_title: "Lautsprecher",
                speakers_text: 'Dr√ºcken Sie die "Ein"-Taste an den Lautsprechern und am Subwoofer. W√§hlen Sie "FM" f√ºr das Radio. Vergessen Sie nicht, sie nach Gebrauch auszuschalten.',
                solar_panels_title: "Sonnenkollektoren",
                solar_panels_text: 'Nutzen Sie den Tag, um Waschmaschine und Geschirrsp√ºler laufen zu lassen. Wenn der Echtzeit-Verbrauchsbildschirm <span class="font-mono text-lg text-cyan-accent">0</span> anzeigt, √ºbernimmt die Solarenergie!',
                activities_title: "Aktivit√§ten",
                activities_text: 'F√ºr Aktivit√§ten k√∂nnen Sie die Website des Tourismusb√ºros <a href="https://www.biscagrandslacs.com/agenda-des-manifestations" target="_blank" rel="noopener noreferrer" class="font-bold text-blue-link hover:underline">unter dieser Adresse</a> besuchen.',
                practical_info_title: "Praktische Infos & Empfehlungen",
                bins_title: "M√ºlltonnen",
                bins_text_1: "Stellen Sie die Container MONTAGS und DONNERSTAGS morgens raus.",
                bins_text_2: "Wertstoffhof (Glas, Pappe, Plastik): 700m entfernt, in der Rue Georges Pompidou.",
                markets_title: "Lokale M√§rkte",
                markets_li_1: "Biscarrosse Stadt: Freitagmorgen & Sonntagmorgen.",
                markets_li_2: "Biscarrosse Strand: Jeden Morgen & Nachtm√§rkte.",
                markets_li_3: "Parentis-en-Born: Donnerstagmorgen.",
                parking_title: "Parken",
                parking_li_1: "Kostenlos in der Stadt (au√üer in speziellen Zonen).",
                parking_li_2: "Geb√ºhrenpflichtig: Rund um den See und am Strand von Viviers.",
                parking_li_3: "Blaue Zonen: 1,5 Stunden mit einer Parkscheibe oder notieren Sie Ihre Ankunftszeit auf einem Zettel und legen Sie ihn sichtbar auf Ihr Armaturenbrett.",
                noise_title: "Ruhezeiten",
                noise_p_1: "Sie wohnen in einem Wohngebiet. Genau wie zu Hause sind hier die Zeitfenster, die f√ºr \"L√§rm\" zu respektieren sind, also denken Sie daran, zu anderen Zeiten leiser zu sein:",
                noise_li_1: "Mo-Fr: 8-12 Uhr und 14-19:30 Uhr",
                noise_li_2: "Samstag: 9-12 Uhr und 15-19 Uhr",
                noise_li_3: "Sonntag & Feiertage: 10-12 Uhr",
                pool_maintenance_title: "Pool & Wartung",
                pool_maintenance_text: 'Denken Sie daran, Ihre F√º√üe abzusp√ºlen, bevor Sie schwimmen. S√©bastien k√ºmmert sich jeden Morgen sehr fr√ºh und diskret um den Pool; er hat einen Beeper, um einzutreten. Wenn das Wasser tr√ºb oder gr√ºn wird, kontaktieren Sie ihn unter <span class="font-semibold text-strong">06 68 02 64 83</span>.',
                departure_title: "Abreise & Kaution",
                departure_p_1: "Eine Reinigungskaution von 200‚Ç¨ wurde an Elodie √ºbergeben. F√ºr die vollst√§ndige R√ºckerstattung bitten wir Sie, die folgende Checkliste einzuhalten:",
                departure_li_1: "Bettw√§sche und Sofa ohne Flecken/Geruch",
                departure_li_2: "Boden gesaugt",
                departure_li_3: "Boden gewischt",
                departure_li_4: "Spiegel und Fenster ohne Schlieren",
                departure_li_5: "Kochger√§te sauber",
                departure_li_6: "Geschirrsp√ºler geleert und sauber",
                departure_li_7: "Sanit√§ranlagen und Siphons sauber",
                departure_li_8: "K√ºhlschrank und Gefrierschrank sauber",
                departure_li_9: "Terrasse gefegt (und bei Bedarf gewischt)",
                departure_li_10: "Grill geleert und gereinigt",
                departure_li_11: "Innere der M√∂bel ohne Sand/Haare",
                departure_li_12: "Alle M√ºlleimer geleert",
                departure_p_2: "Bei Verlust von Schl√ºsseln oder Beeper wird ein Ersatzangebot √ºber die Buchungsplattform gesendet.",
                footer_text: "Wir w√ºnschen Ihnen einen ausgezeichneten Aufenthalt in der Villa HoMar!"
            }
        };

        const setLanguage = (lang) => {
            document.documentElement.lang = lang;
            document.querySelectorAll('[data-lang-key]').forEach(element => {
                const key = element.getAttribute('data-lang-key');
                if (translations[lang] && translations[lang][key]) {
                    element.innerHTML = translations[lang][key];
                }
            });
            localStorage.setItem('language', lang);
        };

        const languageSwitches = document.querySelectorAll('.lang-switch');
        languageSwitches.forEach(button => {
            button.addEventListener('click', (event) => {
                event.preventDefault();
                const lang = button.getAttribute('data-lang');
                setLanguage(lang);
            });
        });

        // Check for saved language in localStorage
        const savedLanguage = localStorage.getItem('language');
        if (savedLanguage && translations[savedLanguage]) {
            setLanguage(savedLanguage);
        } else {
            // Default to French if nothing is saved
            setLanguage('fr');
        }

        // --- THEME SWITCHER LOGIC ---
        const themeToggleButton = document.getElementById('theme-toggle-btn');
        const sunIcon = document.getElementById('theme-sun-icon');
        const moonIcon = document.getElementById('theme-moon-icon');
        const htmlElement = document.documentElement;

        const applyTheme = (theme) => {
            if (theme === 'light') {
                htmlElement.classList.add('light');
                sunIcon.style.display = 'none';
                moonIcon.style.display = 'block';
            } else {
                htmlElement.classList.remove('light');
                sunIcon.style.display = 'block';
                moonIcon.style.display = 'none';
            }
        };

        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        
        if (savedTheme) {
            applyTheme(savedTheme);
        } else {
            applyTheme(prefersDark ? 'dark' : 'light');
        }

        themeToggleButton.addEventListener('click', () => {
            const currentTheme = htmlElement.classList.contains('light') ? 'light' : 'dark';
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            localStorage.setItem('theme', newTheme);
            applyTheme(newTheme);
        });

        // --- ACCORDION LOGIC ---
        document.querySelectorAll('.accordion-button').forEach(button => {
            button.addEventListener('click', () => {
                const accordionContent = button.nextElementSibling;
                button.classList.toggle('open');
                if (button.classList.contains('open')) {
                    accordionContent.style.maxHeight = accordionContent.scrollHeight + 'px';
                    accordionContent.style.paddingTop = '1rem';
                } else {
                    accordionContent.style.maxHeight = '0';
                    accordionContent.style.paddingTop = '0';
                }
            });
        });

        // --- PDF GENERATION LOGIC ---
        document.getElementById('generate-pdf-btn').addEventListener('click', () => {
            const { jsPDF } = window.jspdf;
            const content = document.getElementById('main-content');
            const loadingOverlay = document.getElementById('loading-overlay');
            const actionButtons = document.querySelector('.flex.items-center.justify-center.space-x-4');
            
            loadingOverlay.style.display = 'flex';
            actionButtons.style.visibility = 'hidden';

            const accordions = document.querySelectorAll('.accordion-button');
            const wereOpen = [];
            accordions.forEach((button, index) => {
                wereOpen[index] = button.classList.contains('open');
                if (!wereOpen[index]) {
                    button.click();
                }
            });

            setTimeout(() => {
                const isLightTheme = htmlElement.classList.contains('light');
                html2canvas(content, { 
                    scale: 2,
                    backgroundColor: isLightTheme ? '#f3f4f6' : '#0a0a0a',
                    useCORS: true 
                }).then(canvas => {
                    actionButtons.style.visibility = 'visible';
                    loadingOverlay.style.display = 'none';

                    accordions.forEach((button, index) => {
                        if (!wereOpen[index]) {
                           button.click();
                        }
                    });

                    const imgData = canvas.toDataURL('image/png');
                    const pdf = new jsPDF({ orientation: 'p', unit: 'mm', format: 'a4' });
                    const pdfWidth = pdf.internal.pageSize.getWidth();
                    const pdfHeight = pdf.internal.pageSize.getHeight();
                    const ratio = canvas.width / canvas.height;
                    const imgWidth = pdfWidth - 20;
                    const imgHeight = imgWidth / ratio;
                    
                    let heightLeft = imgHeight;
                    let position = 15;

                    pdf.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);
                    heightLeft -= (pdfHeight - 25);

                    while (heightLeft > 0) {
                        position = -heightLeft - 15;
                        pdf.addPage();
                        pdf.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);
                        heightLeft -= pdfHeight;
                    }
                    
                    pdf.save('Guide-Villa-HoMar.pdf');
                }).catch(err => {
                    loadingOverlay.style.display = 'none';
                    actionButtons.style.visibility = 'visible';
                    console.error("Erreur lors de la g√©n√©ration du PDF:", err);
                });
            }, 600); // Increased delay for accordion animation
        });
    });
    </script>

</body>
</html>

